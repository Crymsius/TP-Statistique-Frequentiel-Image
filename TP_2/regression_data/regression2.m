%load de image Ia, Ib et matchesglobal Ia = double(imread('keble_a.jpg'));global Ib = double(imread('keble_b.jpg'));data = load('matchesab.txt');Points = [[590 369 299 364];[405 295 115 293];[652 112 364 123];[340 92 49 77]];%H = homographie(Points)%calcul de HH = ransac(data, 4,10,10);%coins de l'image (on suppose 2 images de même dimension)A = [0;0;1];B = [size(Ia,2);0;1];C = [size(Ia,2);size(Ia,1);1];D = [0;size(Ia,1);1];%coins de l'image par l'homographieA2 = H*A;B2 = H*B;C2 = H*C;D2 = H*D;%calcul des min et max des coins de l'image totalePoints = [A2/A2(3) B2/B2(3) C2/C2(3) D2/D2(3) A B C D];X1 = min(Points(1,:));X2 = max(Points(1,:));Y1 = min(Points(2,:));Y2 = max(Points(2,:));%calcul de l'image transforméeIma1 = vgg_warp_H(Ia, H, 'linear',[X1, X2, Y1, Y2]);Imb1 = vgg_warp_H(Ib, eye(3), 'linear',[X1, X2, Y1, Y2]);Ima2 = vgg_warp_H(Ia, eye(3), 'linear',[X1, X2, Y1, Y2]);Imb2 = vgg_warp_H(Ib, inv(H), 'linear',[X1, X2, Y1, Y2]);Imtotal1= max(Ima1,Imb1);Imtotal2= max(Ima2,Imb2);%affichageimage(uint8(Imtotal1),'Parent',subplot(1,2,1));axis equal;image(uint8(Imtotal2),'Parent',subplot(1,2,2));axis equal;